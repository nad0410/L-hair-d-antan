{% extends 'base.html.twig' %}

{% block title %}Calendrier{% endblock %}

{% block body %}

    <div id="calendrier">
    </div>
{% endblock %}

{% block javascripts %}
<script>
    window.onload = () => {
        let calendarElt = document.querySelector("#calendrier")

        let calendar = new FullCalendar.Calendar(calendarElt, {
            initialView: 'timeGridWeek',
            locale: 'fr',
            timeZone: 'Europe/Paris',
            headerToolbar: {
                start: 'prev,next today',
                center: 'title',
                end: 'dayGridMonth,timeGridWeek'
            },
            events: {{data|raw}},

       
        eventClick: function(info) {
            
            info.jsEvent.preventDefault(); // don't let the browser navigate

            
            window.location.href = "/admin/calendar/" + info.event.id + "/edit";
            
        }
        
        }

        )

       
        calendar.render()
    }






</script>
{% endblock %}